# ローカル

* docker起動コマンド
  ```powershell
  cd c:\dev\dolcos_calc
  docker compose up -d --force-recreate app
  # 別ウィンドウで
  docker compose logs -f
  ```

* RuboCopの特定のルール（Cop）だけを対象にして、どのファイル・何行目で引っかかっているかを特定する
  ```powershell
  docker compose exec app bundle exec rubocop --force-exclusion --cache false --only Layout/CommentIndentation,Layout/TrailingEmptyLines -f clang
  ```

# EC2
* EC2への接続
   ```shell
   ssh -i C:\Users\sakam\.ssh\dolcos-key.pem ec2-user@3.104.206.45
   ``` 

* EC2内で  
   `ルート移動`
   ```bash
   cd dolcos-calc
   ```
   `リポジトリを反映`
   ```bash
   git pull origin main
   ```
   `ビルドと起動`
   ```bash
   docker-compose -f docker-compose.prod.yml build --no-cache --progress=plain
   docker-compose -f docker-compose.prod.yml up -d
   docker-compose -f docker-compose.prod.yml logs -f app
   ```
